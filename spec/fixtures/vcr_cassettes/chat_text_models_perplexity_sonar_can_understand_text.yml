---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:44:57 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "a913d7d7-db6d-4cd7-9e03-5603a828ff66", "model": "sonar", "created":
        1757515497, "usage": {"prompt_tokens": 25, "completion_tokens": 132, "total_tokens":
        157, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types", "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "http://mikker.github.io/2013/10/30/get-the-true-mime-type-of-a-file-in-ruby.html",
        "https://www.oracle.com/developer/what-is-ruby-for-developers/"], "search_results":
        [{"title": "Ruby - Overview", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2019-03-01", "last_updated": "2025-09-10", "snippet": "Ruby is a
        true object-oriented programming language. Ruby is a server-side scripting
        language similar to Python and PERL. Ruby can be used to write Common ..."},
        {"title": "Class: MIME::Types \u2013 Documentation for mime-types (3.1)",
        "url": "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types", "date":
        "2024-11-01", "last_updated": "2025-09-05", "snippet": "MIME::Types is a registry
        of MIME types. It is both a class (created with MIME::Types.new) and a default
        registry (loaded automatically or through interactions)"}, {"title": "Ruby
        (programming language)", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-09-09", "snippet": "Ruby is a
        general-purpose programming language. It was designed with an emphasis on
        programming productivity and simplicity. In Ruby, everything is an object,
        ..."}, {"title": "Get the true mime type of a file in Ruby", "url": "http://mikker.github.io/2013/10/30/get-the-true-mime-type-of-a-file-in-ruby.html",
        "date": "2013-10-30", "last_updated": "2025-01-04", "snippet": "You can get
        the true mime type by using the shell command file. true_mime_type = `file
        --mime -b mp4-renamed-to.mp3`.chomp # => video/mp4; charset=binary"}, {"title":
        "What is Ruby?", "url": "https://www.oracle.com/developer/what-is-ruby-for-developers/",
        "date": "2024-06-10", "last_updated": "2025-09-04", "snippet": "Ruby is a
        highly popular programming language that''s used for lots of things, from
        web app development to data analysis. It''s also very user-friendly ..."}],
        "object": "chat.completion", "choices": [{"index": 0, "finish_reason": "stop",
        "message": {"role": "assistant", "content": "The file named \"ruby.txt\" contains
        the text: **\"Ruby is the best.\"**\n\nThis is a short, plain-text statement
        expressing a positive opinion about Ruby, a programming language. It does
        not contain code or detailed information. \n\nFor context, **Ruby** is a general-purpose,
        interpreted, object-oriented programming language created by Yukihiro Matsumoto
        in the mid-1990s. It is designed for simplicity, productivity, and has a readable
        syntax that is easy to learn. Ruby is often used for web development (notably
        via the Ruby on Rails framework), automation, scripting, and other programming
        tasks[1][3][5]."}, "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Wed, 10 Sep 2025 14:44:57 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file named \"ruby.txt\"
        contains the text: **\"Ruby is the best.\"**\n\nThis is a short, plain-text
        statement expressing a positive opinion about Ruby, a programming language.
        It does not contain code or detailed information. \n\nFor context, **Ruby**
        is a general-purpose, interpreted, object-oriented programming language created
        by Yukihiro Matsumoto in the mid-1990s. It is designed for simplicity, productivity,
        and has a readable syntax that is easy to learn. Ruby is often used for web
        development (notably via the Ruby on Rails framework), automation, scripting,
        and other programming tasks[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:45:02 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "2c8829d1-61f9-42fa-acab-1939f00a04b0", "model": "sonar", "created":
        1757515502, "usage": {"prompt_tokens": 187, "completion_tokens": 224, "total_tokens":
        411, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.w3schools.com/xml/xml_elements.asp",
        "https://www.oracle.com/technical-resources/articles/srivastava-namespaces.html",
        "https://www.w3.org/TR/xml/", "https://www.geeksforgeeks.org/html/xml-elements/",
        "https://docs.intersystems.com/irisforhealthlatest/csp/docbook/DocBook.UI.Page.cls?KEY=GXML_background"],
        "search_results": [{"title": "XML Elements - W3Schools", "url": "https://www.w3schools.com/xml/xml_elements.asp",
        "date": "2008-01-10", "last_updated": "2025-09-10", "snippet": "An XML element
        is everything from (including) the element''s start tag to (including) the
        element''s end tag."}, {"title": "XML Schema: Understanding Namespaces - Oracle",
        "url": "https://www.oracle.com/technical-resources/articles/srivastava-namespaces.html",
        "date": "2019-03-04", "last_updated": "2025-09-08", "snippet": "Moving to
        XML Schema? This introduction to namespaces will help you understand one of
        its more important elements."}, {"title": "Extensible Markup Language (XML)
        1.0 (Fifth Edition) - W3C", "url": "https://www.w3.org/TR/xml/", "date": "2008-11-26",
        "last_updated": "2025-09-10", "snippet": "[Definition: There is exactly one
        element, called the root, or document element, no part of which appears in
        the content of any other element.] ..."}, {"title": "XML | Elements - GeeksforGeeks",
        "url": "https://www.geeksforgeeks.org/html/xml-elements/", "date": "2022-05-24",
        "last_updated": "2025-09-10", "snippet": "The XML elements are the basic building
        block of the XML document. It is used as a container to store text elements,
        attributes, media objects etc."}, {"title": "XML Background | InterSystems
        IRIS for Health 2025.1", "url": "https://docs.intersystems.com/irisforhealthlatest/csp/docbook/DocBook.UI.Page.cls?KEY=GXML_background",
        "date": "2025-01-01", "last_updated": "2025-09-08", "snippet": "Missing: truism
        meaning"}], "object": "chat.completion", "choices": [{"index": 0, "finish_reason":
        "stop", "message": {"role": "assistant", "content": "The file \"ruby.xml\"
        contains a simple XML document with one element named `<truism>`, which encloses
        the text **\"Ruby is the best\"**. Specifically, the content of the file is:\n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\nThis follows the basic structure of an XML element:
        a start tag `<truism>`, character data \"Ruby is the best\", and an end tag
        `</truism>`[1][4].\n\nIn XML terms, `<truism>` is the *element name* and the
        text inside it is called the *element content*. This is a valid XML fragment
        representing a single element with text content and no attributes or nested
        elements[1][4]. The file does not include additional XML structure (such as
        a root element or XML declaration), so as a full XML file it may be incomplete,
        but as a snippet it shows a straightforward XML element containing a meaningful
        string.\n\nIn summary, the \"ruby.xml\" file encapsulates the phrase \"Ruby
        is the best\" within a custom XML element called `<truism>`."}, "delta": {"role":
        "assistant", "content": ""}}]}'
  recorded_at: Wed, 10 Sep 2025 14:45:02 GMT
recorded_with: VCR 6.3.1

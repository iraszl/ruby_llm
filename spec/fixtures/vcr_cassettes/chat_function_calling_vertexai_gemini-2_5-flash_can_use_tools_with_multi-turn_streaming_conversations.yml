---
http_interactions:
- request:
    method: post
    uri: https://oauth2.googleapis.com/token
    body:
      encoding: ASCII-8BIT
      string: grant_type=refresh_token&refresh_token=<GOOGLE_REFRESH_TOKEN>&client_id=<GOOGLE_CLIENT_ID>&client_secret=<GOOGLE_CLIENT_SECRET>
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Pragma:
      - no-cache
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Date:
      - Wed, 10 Sep 2025 15:01:19 GMT
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "access_token": "<GOOGLE_ACCESS_TOKEN>",
          "expires_in": 3599,
          "scope": "https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/sqlservice.login openid https://www.googleapis.com/auth/cloud-platform",
          "token_type": "Bearer",
          "id_token": "<GOOGLE_ID_TOKEN>"
        }
  recorded_at: Wed, 10 Sep 2025 15:01:19 GMT
- request:
    method: post
    uri: https://<GOOGLE_CLOUD_LOCATION>-aiplatform.googleapis.com/v1beta1/projects/<GOOGLE_CLOUD_PROJECT>/locations/<GOOGLE_CLOUD_LOCATION>/publishers/google/models/gemini-2.5-flash:streamGenerateContent?alt=sse
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"What''s the weather in
        Berlin? (52.5200, 13.4050)"}]}],"generationConfig":{},"tools":[{"functionDeclarations":[{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"OBJECT","properties":{"latitude":{"type":"STRING","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"STRING","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <GOOGLE_BEARER_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/event-stream
      Content-Disposition:
      - attachment
      Vary:
      - Origin
      - Referer
      - X-Origin
      Transfer-Encoding:
      - chunked
      Date:
      - Wed, 10 Sep 2025 15:01:20 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: UTF-8
      string: "data: {\"candidates\": [{\"content\": {\"role\": \"model\",\"parts\":
        [{\"functionCall\": {\"name\": \"weather\",\"args\": {\"latitude\": \"52.5200\",\"longitude\":
        \"13.4050\"}},\"thoughtSignature\": \"CiwBH8yFtpi40Fs13UwzrHfJWUSfIWjiS351dBUx3Jb6/1BELXISQtifi7cotQqFAQEfzIW2rntJkmvd4BkisK0BZFadER2qBtvGlQEYz2ZYjH3ZPEnANshMwnGRpamiZjH7dN4CQVsXSvMROSLof2FRYaqy4kI3tGQaezLSFclQr6tS/Lmmt+wgBBwqcdlkhocSvRHsR+aDtZEoYAvhDHEXNEpbKasYyGOSnXqOFT1cs+bBOBIKZgEfzIW2GeLJA2xa6oxgLCrj3Amszbdh3RQojAXzrsVP81dVJLDCPYOzGA98byfkkPgFTUmnkDjU+Hj/dItIAC0ZzGoHyI/kFCZ9/4LqURL3GMQk/d4TNYwgfxqsbRxUNwkpMxNF3grOAQEfzIW2RGvoEsEHUG31FQKs/SWI3x/5FWCTrXj8BEfWEoIbL/1hWDOlmdfQm2NEa69XEJPzA0cmRAbbLGVGV1ToqnL7Sj6absdxs1QPzkf4oRx/Lol3y11khbwCI9RWYSqDddyADskXsMAL3Rr6B6MLx9r7rTGU8UgJH7SW48rI8+hriahU79Wasu40N/qSFz13nvvSj/FrkVXalZbQiT7iSfAlba8nioIYDu13Z/HTUJ/xlSVS6MHLt6J9QWJ/sLbRDz/hbNLw/sOpN9vMCroBAR/MhbbnviCbg3GE+xW4glcDnoE7EFFgv9potiIOIBmtmwJTXCvwiyV9gL6I08bnmgtnis4gE1sW5LPsR7ppMjMwbfhh4ZqoHZTSbtYvoKSkHIb06HSsYjH1PfVeWbQdSmpc1rFxYlpxli9xgadu6DHpLNu6gDGIAha3m5fxI7RvAbZOa2SaNd2reJfUAz00oweRZ+Bk7N5lP3T4dKRPTj13FOV5Yd2kzfzrH0iT5nvNU0XS5frLLHHuCm0BH8yFttYosQn2dJWtF18jiYAH1500t3bDUkApqY8MVGgaVPBxsKs84E6iu7iuU/C5YdML72kuJ9OG9Sol65qsN6aeuv8mhCcNHyDpIzlmkE07Jzf5OeVnEDIarcJN5NP2IgTKRCJFeoafgtCK\"}]},\"finishReason\":
        \"STOP\"}],\"usageMetadata\": {\"promptTokenCount\": 70,\"candidatesTokenCount\":
        17,\"totalTokenCount\": 223,\"trafficType\": \"ON_DEMAND\",\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 70}],\"candidatesTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 17}],\"thoughtsTokenCount\": 136},\"modelVersion\":
        \"gemini-2.5-flash\",\"createTime\": \"2025-09-10T15:01:20.112717Z\",\"responseId\":
        \"wJLBaM3wBozMt_gPwJqomAk\"}\r\n\r\n"
  recorded_at: Wed, 10 Sep 2025 15:01:20 GMT
- request:
    method: post
    uri: https://oauth2.googleapis.com/token
    body:
      encoding: ASCII-8BIT
      string: grant_type=refresh_token&refresh_token=<GOOGLE_REFRESH_TOKEN>&client_id=<GOOGLE_CLIENT_ID>&client_secret=<GOOGLE_CLIENT_SECRET>
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Pragma:
      - no-cache
      Date:
      - Wed, 10 Sep 2025 15:01:21 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "access_token": "<GOOGLE_ACCESS_TOKEN>",
          "expires_in": 3599,
          "scope": "https://www.googleapis.com/auth/cloud-platform openid https://www.googleapis.com/auth/sqlservice.login https://www.googleapis.com/auth/userinfo.email",
          "token_type": "Bearer",
          "id_token": "<GOOGLE_ID_TOKEN>"
        }
  recorded_at: Wed, 10 Sep 2025 15:01:21 GMT
- request:
    method: post
    uri: https://<GOOGLE_CLOUD_LOCATION>-aiplatform.googleapis.com/v1beta1/projects/<GOOGLE_CLOUD_PROJECT>/locations/<GOOGLE_CLOUD_LOCATION>/publishers/google/models/gemini-2.5-flash:streamGenerateContent?alt=sse
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"What''s the weather in
        Berlin? (52.5200, 13.4050)"}]},{"role":"model","parts":[{"functionCall":{"name":"weather","args":{"latitude":"52.5200","longitude":"13.4050"}}}]},{"role":"user","parts":[{"functionResponse":{"name":"fbbeda0d-2c72-470d-8cb8-c31099901208","response":{"name":"fbbeda0d-2c72-470d-8cb8-c31099901208","content":[{"text":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h"}]}}}]}],"generationConfig":{},"tools":[{"functionDeclarations":[{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"OBJECT","properties":{"latitude":{"type":"STRING","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"STRING","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <GOOGLE_BEARER_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/event-stream
      Content-Disposition:
      - attachment
      Vary:
      - Origin
      - Referer
      - X-Origin
      Transfer-Encoding:
      - chunked
      Date:
      - Wed, 10 Sep 2025 15:01:22 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ZGF0YTogeyJjYW5kaWRhdGVzIjogW3siY29udGVudCI6IHsicm9sZSI6ICJtb2RlbCIsInBhcnRzIjogW3sidGV4dCI6ICJDdXJyZW50IHdlYXRoZXIgYXQgNTIuNTIwMCwgMTMuNDA1MDogMTXCsEMsIFdpbmQ6IDEwIGttL2guIiwidGhvdWdodFNpZ25hdHVyZSI6ICJDak1CSDh5RnRwaVA3R081WVNEbXJNT29qNFNGZmpwUmlSYSthT0F2MTJDT2Mxenk4RjJ1a0RvUy9PZmRSWGd2bk9JOWs3RUtmZ0VmeklXMmQwZlNmOU5lRWw2dENYN2kvQUNXSURhTnBWU3AzWHFHSGF0cGRRMXczeGhxckVpUlpMVUE3M08vSkRXaVNUano4RTNXRlEwM2JZUisycDFCbWpKRTZMeENBTXdyNFNKekdBOGs4WTBwQldBY2hPRlpRRkRMVXJvQWZlWEc2c2R6cGdYbHloOFNkaVE3UmJtQlh1VnN1MjFZdlQyVncyTDBhUXAxQVIvTWhiWlFqTkswcUFnZ3VRWFVOcjRkcVlIdkE1aFlzakxCZEV2cFhRZmRDdktUdjR3TGQxTDU2S1BVOWswRldBcitCKzVsLzJUQ0NqMWFvVnFNQ3Z1eGFnVXBBeVNOWHAxNFdEblVmV09iVXdmbzYySWQ2L1BhWXg1WWZUdkltNVZmb1FEL1IzMkF6VHZsSXYzSitSdDdUYjVBQ3A0QkFSL01oYlk3YWdTOStud0xCRzQrMG5wdjgyZXRoc2x2emJobDRqN081UkVTam9kWmRFYkJrNmphTGZtWTBNeGNNS0k0dlJXRUxUMS8xU3VDTWdMQ1Q0QnVhYkh4QUppK2JkTFBvNHhtczdUSGlmVGwrMEJVczd1MitTa3puN2dZTXFuWjlNZk1hT2t4QzlXemhDS3Rub0FVZjhsR3QzZ08rRW1XSHhJOVI4Zy9CSzd5LzlJRnQ0aUFxa2Y4amU1VW44T3NkdEtoOGtjdW8xZjNhYllLYlFFZnpJVzJLNFJvSVQvNmZ4U2RBblo0RVYzeXJlWjNLeElmajNBbFRsekxLVUdHNWhUYkhYVW5kcTEwUjRaanM3WDFNNVZCdkVTdE9pMlQzMFJsOGNkS1pNL0NWT1hzS1IvNnp4Y1BZaWlxcUh1R2JpMFBFTnFYM3d4NFhrTE9POUhONVhGQlQ1UnIrd2RMUTV3PSJ9XX0sImZpbmlzaFJlYXNvbiI6ICJTVE9QIn1dLCJ1c2FnZU1ldGFkYXRhIjogeyJwcm9tcHRUb2tlbkNvdW50IjogMTg3LCJjYW5kaWRhdGVzVG9rZW5Db3VudCI6IDM2LCJ0b3RhbFRva2VuQ291bnQiOiAzMjQsInRyYWZmaWNUeXBlIjogIk9OX0RFTUFORCIsInByb21wdFRva2Vuc0RldGFpbHMiOiBbeyJtb2RhbGl0eSI6ICJURVhUIiwidG9rZW5Db3VudCI6IDE4N31dLCJjYW5kaWRhdGVzVG9rZW5zRGV0YWlscyI6IFt7Im1vZGFsaXR5IjogIlRFWFQiLCJ0b2tlbkNvdW50IjogMzZ9XSwidGhvdWdodHNUb2tlbkNvdW50IjogMTAxfSwibW9kZWxWZXJzaW9uIjogImdlbWluaS0yLjUtZmxhc2giLCJjcmVhdGVUaW1lIjogIjIwMjUtMDktMTBUMTU6MDE6MjEuMTUyNjIyWiIsInJlc3BvbnNlSWQiOiAid1pMQmFLNm9DZEtvdmRJUHFacUx3UXMifQ0KDQo=
  recorded_at: Wed, 10 Sep 2025 15:01:22 GMT
- request:
    method: post
    uri: https://oauth2.googleapis.com/token
    body:
      encoding: ASCII-8BIT
      string: grant_type=refresh_token&refresh_token=<GOOGLE_REFRESH_TOKEN>&client_id=<GOOGLE_CLIENT_ID>&client_secret=<GOOGLE_CLIENT_SECRET>
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 15:01:22 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "access_token": "<GOOGLE_ACCESS_TOKEN>",
          "expires_in": 3599,
          "scope": "https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/sqlservice.login openid",
          "token_type": "Bearer",
          "id_token": "<GOOGLE_ID_TOKEN>"
        }
  recorded_at: Wed, 10 Sep 2025 15:01:22 GMT
- request:
    method: post
    uri: https://<GOOGLE_CLOUD_LOCATION>-aiplatform.googleapis.com/v1beta1/projects/<GOOGLE_CLOUD_PROJECT>/locations/<GOOGLE_CLOUD_LOCATION>/publishers/google/models/gemini-2.5-flash:streamGenerateContent?alt=sse
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"What''s the weather in
        Berlin? (52.5200, 13.4050)"}]},{"role":"model","parts":[{"functionCall":{"name":"weather","args":{"latitude":"52.5200","longitude":"13.4050"}}}]},{"role":"user","parts":[{"functionResponse":{"name":"fbbeda0d-2c72-470d-8cb8-c31099901208","response":{"name":"fbbeda0d-2c72-470d-8cb8-c31099901208","content":[{"text":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h"}]}}}]},{"role":"model","parts":[{"text":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h."}]},{"role":"user","parts":[{"text":"What''s
        the weather in Paris? (48.8575, 2.3514)"}]}],"generationConfig":{},"tools":[{"functionDeclarations":[{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"OBJECT","properties":{"latitude":{"type":"STRING","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"STRING","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <GOOGLE_BEARER_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/event-stream
      Content-Disposition:
      - attachment
      Vary:
      - Origin
      - Referer
      - X-Origin
      Transfer-Encoding:
      - chunked
      Date:
      - Wed, 10 Sep 2025 15:01:23 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: UTF-8
      string: "data: {\"candidates\": [{\"content\": {\"role\": \"model\",\"parts\":
        [{\"functionCall\": {\"name\": \"weather\",\"args\": {\"longitude\": \"2.3514\",\"latitude\":
        \"48.8575\"}},\"thoughtSignature\": \"CiwBH8yFtpTQdkmrWBQUuVu65eOq2sKRsATGiN58uLlvTMlZDdcLj/B+ctdIcQqNAQEfzIW2niMt2rawSkierdVyTQvW4o0l5Opt0CzbWr8HB13N9WxQl9Ex9aktk5VYv/aWPzA0nvjae87qDC1Y1A5QZIyVY96ZibUFBlf+bAQOysBjtt6eBn7eQdW1fKG3zc59AEsNoKq1oX9lRQ5s2t4bWtZx49ShaflSbPWirhojvAoviRWPWsZzAZcTzQpyAR/MhbYCN68nrMEZ2nXAAL4K+z7MoYpLFyU4SshQiRQyM+Ol52/NlqKtvNKhzpWhWhmFrTD/j4hdSUPaqiYV5yxB0wa5x+CHbIFBGK0UU42nirWOTJEdpjX+ehFwdSwCzvVMqKOzvaOj7L8WWyBSKae0CsUBAR/MhbaVtCHdmP2GDopz1nRrghSGxjlac0BHNzVK9T7RW/8tgSSjYPw2jIsItbbZI4+oO8Sjyjed5MOiVtBiQSW0HoA3LjwHX8r24cUj8YAMqBNuko/Vec+l6dgE7W7sNCS/nJENh455Ab7BmjrKo1NmekkUa0nb5HhClH5aP/Bcw11hh02YWDoa+NfzkJxrPitjOj8Cw5CIVdkI0D2s/p7a5+bUGTetWke+uZyM/5nc1KPFk+1dFmgUzGThR9Pzouc6OnQKwAEBH8yFtpWwkTjjQuRxKTG8CttZa8vVAmPaO6lqROpenZ7CMk20dCn36RUDiDw4RntXDf+jM9T/rKNKDsknEvqtRW8+7oLN+koinG5HpJAL1xq+ht/SN7VWF/v/uv5ut3ZM2ti9I2vBRkbKLErCTlguPPtpTG+v4WplJoXYOpUlbGUKvAAZWNVGcvnwdY2xi5UpUzp+8VF5WxplbSrs0H2ujVetMVTq1mZb/sDHjoEYjo6CQNaz5viSTU5eRaC6WQoKSQEfzIW2oU+SqVM9MMYLdv6dx2dA1SqkBfy2rIpY11tLDIA9CIlOUae+IGjcKJhhkdGSnPh9K81RYywhEgrME0g3N8txgSPfUc8=\"}]},\"finishReason\":
        \"STOP\"}],\"usageMetadata\": {\"promptTokenCount\": 248,\"candidatesTokenCount\":
        16,\"totalTokenCount\": 380,\"trafficType\": \"ON_DEMAND\",\"promptTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 248}],\"candidatesTokensDetails\":
        [{\"modality\": \"TEXT\",\"tokenCount\": 16}],\"thoughtsTokenCount\": 116},\"modelVersion\":
        \"gemini-2.5-flash\",\"createTime\": \"2025-09-10T15:01:22.250198Z\",\"responseId\":
        \"wpLBaNaiD4q3mLAP5b310Ac\"}\r\n\r\n"
  recorded_at: Wed, 10 Sep 2025 15:01:23 GMT
- request:
    method: post
    uri: https://oauth2.googleapis.com/token
    body:
      encoding: ASCII-8BIT
      string: grant_type=refresh_token&refresh_token=<GOOGLE_REFRESH_TOKEN>&client_id=<GOOGLE_CLIENT_ID>&client_secret=<GOOGLE_CLIENT_SECRET>
    headers:
      User-Agent:
      - Faraday v2.13.4
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Pragma:
      - no-cache
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Date:
      - Wed, 10 Sep 2025 15:01:23 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "access_token": "<GOOGLE_ACCESS_TOKEN>",
          "expires_in": 3599,
          "scope": "https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/sqlservice.login openid",
          "token_type": "Bearer",
          "id_token": "<GOOGLE_ID_TOKEN>"
        }
  recorded_at: Wed, 10 Sep 2025 15:01:23 GMT
- request:
    method: post
    uri: https://<GOOGLE_CLOUD_LOCATION>-aiplatform.googleapis.com/v1beta1/projects/<GOOGLE_CLOUD_PROJECT>/locations/<GOOGLE_CLOUD_LOCATION>/publishers/google/models/gemini-2.5-flash:streamGenerateContent?alt=sse
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"What''s the weather in
        Berlin? (52.5200, 13.4050)"}]},{"role":"model","parts":[{"functionCall":{"name":"weather","args":{"latitude":"52.5200","longitude":"13.4050"}}}]},{"role":"user","parts":[{"functionResponse":{"name":"fbbeda0d-2c72-470d-8cb8-c31099901208","response":{"name":"fbbeda0d-2c72-470d-8cb8-c31099901208","content":[{"text":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h"}]}}}]},{"role":"model","parts":[{"text":"Current
        weather at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h."}]},{"role":"user","parts":[{"text":"What''s
        the weather in Paris? (48.8575, 2.3514)"}]},{"role":"model","parts":[{"functionCall":{"name":"weather","args":{"longitude":"2.3514","latitude":"48.8575"}}}]},{"role":"user","parts":[{"functionResponse":{"name":"8e1f1b5e-46d3-4a1f-8312-581682d02875","response":{"name":"8e1f1b5e-46d3-4a1f-8312-581682d02875","content":[{"text":"Current
        weather at 48.8575, 2.3514: 15Â°C, Wind: 10 km/h"}]}}}]}],"generationConfig":{},"tools":[{"functionDeclarations":[{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"OBJECT","properties":{"latitude":{"type":"STRING","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"STRING","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"]}}]}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <GOOGLE_BEARER_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - text/event-stream
      Content-Disposition:
      - attachment
      Vary:
      - Origin
      - Referer
      - X-Origin
      Transfer-Encoding:
      - chunked
      Date:
      - Wed, 10 Sep 2025 15:01:24 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        ZGF0YTogeyJjYW5kaWRhdGVzIjogW3siY29udGVudCI6IHsicm9sZSI6ICJtb2RlbCIsInBhcnRzIjogW3sidGV4dCI6ICJDdXJyZW50IHdlYXRoZXIgYXQgNDguODU3NSwgMi4zNTE0OiAxNcKwQywgV2luZDogMTAga20vaC4iLCJ0aG91Z2h0U2lnbmF0dXJlIjogIkNqTUJIOHlGdHZxMzNuUENQTERRYnlmSlhhVjh6VTZ6R01KTjB4VkZDOFRncVloQ3hOeVU2RkJVWHJQMDJyd0VLbCtRSzZvS2J3RWZ6SVcyS1FvOS92dGFMWFZJWDB1bDY1UG8yMi9wUU5pSWh1OHlwUlpyYXdHUVRRTGg3SVdVaEQ4bHJvYi9VMkZHWHVsc2FRQWJ0bWozRVRpVCsxQktqSElrLzZIUS9nQnhQVk1SR25IckxrS2x2ZXhMMEkvRStYUkVvWmUybXJsajRGS2s1OHhwNFpBSG9WRG4xUXByQVIvTWhiWkxpeVdsT1VhL2FyMUZaZUNndm1lTVl6cDllYSs1UlBRREFUc21ML29lTnAzTDN1dFpIM0ZsdVBGemxIOHoxRXhLWGxxcTNNVFlDS3FPbUczZlJrMGJWZXRmOWZjWWdqWW5PQlovbUpzbG92VlNrNjhPYkhQSGRVMS9ZU0UweVlRemZCQTlHNWNLYXdFZnpJVzJIS1dWc25OUmVLUzhva2hxS0RoWGVPZFllcjREckRZNzVrbklXaVlHaFB5N2xYeDZqSG1TYURHNHRTc2NGMUFydUhCOXpGUDd0bXloSjAyeVRxNnZ5U0hMNG1zL1ZVWW42OWVzb0NNbVJkTkNYL0FNVFluWGwyUFRkN245bEMwb3RleGRYMFlBQ2o4Qkg4eUZ0bUt0U2xVc2lkRkljaWtWYVVpbldIUFNZODVJL2JuMkdZMnpDZnRuRHM4YzlHSHpQZVN0eHJsdVg3VmdEeVhSV2hGSk5Vay9aRk1DQkRRPSJ9XX0sImZpbmlzaFJlYXNvbiI6ICJTVE9QIn1dLCJ1c2FnZU1ldGFkYXRhIjogeyJwcm9tcHRUb2tlbkNvdW50IjogMzczLCJjYW5kaWRhdGVzVG9rZW5Db3VudCI6IDM1LCJ0b3RhbFRva2VuQ291bnQiOiA0ODgsInRyYWZmaWNUeXBlIjogIk9OX0RFTUFORCIsInByb21wdFRva2Vuc0RldGFpbHMiOiBbeyJtb2RhbGl0eSI6ICJURVhUIiwidG9rZW5Db3VudCI6IDM3M31dLCJjYW5kaWRhdGVzVG9rZW5zRGV0YWlscyI6IFt7Im1vZGFsaXR5IjogIlRFWFQiLCJ0b2tlbkNvdW50IjogMzV9XSwidGhvdWdodHNUb2tlbkNvdW50IjogODB9LCJtb2RlbFZlcnNpb24iOiAiZ2VtaW5pLTIuNS1mbGFzaCIsImNyZWF0ZVRpbWUiOiAiMjAyNS0wOS0xMFQxNTowMToyMy41Njg4NTNaIiwicmVzcG9uc2VJZCI6ICJ3NUxCYUpYY0lvYWl6X0lQOW9iVW9BMCJ9DQoNCg==
  recorded_at: Wed, 10 Sep 2025 15:01:24 GMT
recorded_with: VCR 6.3.1

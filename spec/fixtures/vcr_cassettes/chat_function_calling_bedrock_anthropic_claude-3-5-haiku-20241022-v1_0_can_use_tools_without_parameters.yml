---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250914T100559Z
      X-Amz-Content-Sha256:
      - e8e2ab4c8354c7cef443fe07e51f718b7cb96b42d26a0444d3c8692bb4b23675
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250914/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=6d27fe04a38699a4a9734e3883ac7812548d09bcf4ecc8082d0baeec7a070172
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 14 Sep 2025 10:06:01 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '490'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - bbf646b2-0608-4561-b494-189fc190dde6
      X-Amzn-Bedrock-Invocation-Latency:
      - '1208'
      X-Amzn-Bedrock-Output-Token-Count:
      - '58'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_013XPUMaZXUfeG5deXQPxEKL","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01SgPBSHWEKth8oBPZfXYF3W","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":58}}'
  recorded_at: Sun, 14 Sep 2025 10:06:01 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out the best language to learn by using the available tool."},{"type":"tool_use","id":"toolu_bdrk_01SgPBSHWEKth8oBPZfXYF3W","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01SgPBSHWEKth8oBPZfXYF3W","content":[{"type":"text","text":"Ruby"}]}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250914T100601Z
      X-Amz-Content-Sha256:
      - 4d283abcede65e4d7fa99a31bcb67d70f114f4370b92bb4599a8ed0ff8331eeb
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250914/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ef2fca283093ee5718119cdd4cd07b1615e15fc0fd6d120af1849e392a361f23
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 14 Sep 2025 10:06:05 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1129'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 26343911-8e89-4b21-85c0-cd11e5af93b6
      X-Amzn-Bedrock-Invocation-Latency:
      - '3311'
      X-Amzn-Bedrock-Output-Token-Count:
      - '173'
      X-Amzn-Bedrock-Input-Token-Count:
      - '397'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_019o7QMr4Zh26vwwiRNTWqHb","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is recommended as the best language to learn. Ruby is a
        dynamic, object-oriented programming language known for its simplicity and
        readability. It''s particularly popular for web development, especially with
        the Ruby on Rails framework.\n\nSome reasons why Ruby might be a good language
        to learn:\n1. Easy to read and write syntax\n2. Great for web development\n3.
        Strong community support\n4. Versatile and used in various domains like web
        applications, scripting, and automation\n\nHowever, the \"best\" language
        can depend on your specific goals, such as:\n- Web development\n- Data science\n-
        Mobile app development\n- Game development\n- Artificial intelligence\n\nWould
        you like to know more about Ruby or discuss your specific programming goals
        to find the most suitable language for you?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":397,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":173}}'
  recorded_at: Sun, 14 Sep 2025 10:06:05 GMT
recorded_with: VCR 6.3.1

---
http_interactions:
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 14 Sep 2025 09:52:19 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "0450fdae-9989-4fc3-b31e-a91bbc53ac67", "model": "sonar", "created":
        1757843538, "usage": {"prompt_tokens": 25, "completion_tokens": 82, "total_tokens":
        107, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types", "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "https://www.ruby-forum.com/t/check-for-text-file/107211", "https://www.oracle.com/developer/what-is-ruby-for-developers/",
        "https://github.com/mime-types/ruby-mime-types", "https://www.geeksforgeeks.org/ruby/ruby-programming-language/",
        "https://github.com/rails/marcel", "https://sumatosoft.com/blog/everything-you-should-know-about-ruby",
        "https://ruby-doc.org/core-2.5.5/File.html"], "search_results": [{"title":
        "Ruby - Overview - Tutorials Point", "url": "https://www.tutorialspoint.com/ruby/ruby_overview.htm",
        "date": "2019-03-01", "last_updated": "2025-09-11", "snippet": "Ruby is a
        true object-oriented programming language. Ruby is a server-side scripting
        language similar to Python and PERL. Ruby can be used to write Common ..."},
        {"title": "Class: MIME::Types - RubyDoc.info", "url": "https://www.rubydoc.info/gems/mime-types/3.1/MIME/Types",
        "date": "2024-11-01", "last_updated": "2025-09-05", "snippet": "MIME::Types
        is a registry of MIME types. It is both a class (created with MIME::Types.new)
        and a default registry (loaded automatically or through interactions)"}, {"title":
        "Ruby (programming language) - Wikipedia", "url": "https://en.wikipedia.org/wiki/Ruby_(programming_language)",
        "date": "2001-10-17", "last_updated": "2025-09-09", "snippet": "Ruby is a
        general-purpose programming language. It was designed with an emphasis on
        programming productivity and simplicity. In Ruby, everything is an object,
        ..."}, {"title": "Check for text file - Ruby-Forum", "url": "https://www.ruby-forum.com/t/check-for-text-file/107211",
        "date": "2007-06-19", "last_updated": "2025-09-10", "snippet": "Hi guys, After
        some research I still cannot find a way how to see if a file is plain text
        or binary. In fact I want to check if a file is ..."}, {"title": "What is
        Ruby? - Oracle", "url": "https://www.oracle.com/developer/what-is-ruby-for-developers/",
        "date": "2024-06-10", "last_updated": "2025-09-13", "snippet": "Ruby is a
        highly popular programming language that''s used for lots of things, from
        web app development to data analysis. It''s also very user-friendly ..."},
        {"title": "Ruby MIME type registry library - GitHub", "url": "https://github.com/mime-types/ruby-mime-types",
        "date": "2008-11-23", "last_updated": "2025-08-28", "snippet": "The mime-types
        library provides a library and registry for information about MIME content
        type definitions. It can be used to determine defined filename ..."}, {"title":
        "Ruby Programming Language - GeeksforGeeks", "url": "https://www.geeksforgeeks.org/ruby/ruby-programming-language/",
        "date": "2025-09-04", "last_updated": "2025-09-14", "snippet": "Ruby is a
        popular backend programming language, widely used for building modern applications
        and services. It makes development faster, easier, ..."}, {"title": "rails/marcel:
        Find the mime type of files, examining file, filename and ...", "url": "https://github.com/rails/marcel",
        "date": "2024-03-01", "last_updated": "2025-06-11", "snippet": "Marcel chooses
        the most appropriate content type for a file by inspecting its contents, the
        declared MIME type (perhaps passed as a Content-Type header), and ..."}, {"title":
        "Complete Guide: Everything You Should Know About Ruby Use", "url": "https://sumatosoft.com/blog/everything-you-should-know-about-ruby",
        "date": "2023-03-09", "last_updated": "2025-09-10", "snippet": "Ruby is a
        popular, general-purpose, object-oriented programming language known for its
        simplicity and expressiveness."}, {"title": "Class: File (Ruby 2.5.5)", "url":
        "https://ruby-doc.org/core-2.5.5/File.html", "date": "2021-12-06", "last_updated":
        "2025-08-31", "snippet": "A File is an abstraction of any file object accessible
        by the program and is closely associated with class IO . File includes the
        methods of module FileTest ..."}], "object": "chat.completion", "choices":
        [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant", "content":
        "The file contains the text: **\"Ruby is the best.\"**\n\nThis is a simple
        plain text statement expressing a positive opinion about Ruby. It does not
        contain any code or technical detail beyond this phrase. Ruby itself is a
        widely used, general-purpose, object-oriented programming language known for
        productivity and simplicity, created by Yukihiro Matsumoto in the 1990s[1][3][5]."},
        "delta": {"role": "assistant", "content": ""}}]}'
  recorded_at: Sun, 14 Sep 2025 09:52:19 GMT
- request:
    method: post
    uri: https://api.perplexity.ai/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"sonar","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"The file contains the
        text: **\"Ruby is the best.\"**\n\nThis is a simple plain text statement expressing
        a positive opinion about Ruby. It does not contain any code or technical detail
        beyond this phrase. Ruby itself is a widely used, general-purpose, object-oriented
        programming language known for productivity and simplicity, created by Yukihiro
        Matsumoto in the 1990s[1][3][5]."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <PERPLEXITY_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 14 Sep 2025 09:52:22 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=15552000; includeSubDomains; preload
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id": "d3729b34-cef1-4618-9704-e257157b8bfc", "model": "sonar", "created":
        1757843542, "usage": {"prompt_tokens": 137, "completion_tokens": 136, "total_tokens":
        273, "search_context_size": "low", "cost": {"input_tokens_cost": 0.0, "output_tokens_cost":
        0.0, "request_cost": 0.005, "total_cost": 0.005}}, "citations": ["https://www.w3.org/TR/xml/",
        "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "https://en.wikipedia.org/wiki/XML_schema", "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library",
        "https://docs.oracle.com/cd/B14099_19/integrate.1012/b14069/xsd.htm", "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html",
        "http://www.w3schools.com/Xml/el_element.asp", "https://help.nintex.com/en-US/k2blackpearl/userguide/4.6.10/XML_Data_Types.html",
        "https://www.oxygenxml.com/doc/versions/27.1/ug-developer/topics/xml-schema-diagram-element-properties.html"],
        "search_results": [{"title": "Extensible Markup Language (XML) 1.0 (Fifth
        Edition) - W3C", "url": "https://www.w3.org/TR/xml/", "date": "2008-11-26",
        "last_updated": "2025-09-14", "snippet": "An element matches its declaration
        when it conforms in the fashion described in the constraint [VC: Element Valid].]
        for compatibility. [ ..."}, {"title": "XML Schema Tutorial - Defining Elements
        and Attributes", "url": "https://www.liquid-technologies.com/xml-schema-tutorial/xsd-elements-attributes",
        "date": "2000-01-12", "last_updated": "2025-04-10", "snippet": "Elements are
        the main building block of all XML documents, containing the data and determine
        the structure of the instance document. An element can be defined ..."}, {"title":
        "XML schema - Wikipedia", "url": "https://en.wikipedia.org/wiki/XML_schema",
        "date": "2004-07-21", "last_updated": "2025-09-10", "snippet": "An XML schema
        is a description of a type of XML document, typically expressed in terms of
        constraints on the structure and content of documents of that type."}, {"title":
        "XML Elements Library | Microsoft Learn", "url": "https://learn.microsoft.com/en-us/windows/deployment/usmt/usmt-xml-elements-library",
        "date": "2025-01-29", "last_updated": "2025-08-07", "snippet": "This article
        describes the XML elements and helper functions that can be employed to author
        migration .xml files to use with User State Migration Tool (USMT)."}, {"title":
        "10 XML Schema Definition", "url": "https://docs.oracle.com/cd/B14099_19/integrate.1012/b14069/xsd.htm",
        "date": null, "last_updated": "2025-09-11", "snippet": "An XSD defines the
        structure of an XML document. It specifies the elements and attributes that
        can appear in an XML document and the type of data these elements ..."}, {"title":
        "Instruction Definition XML elements - 1E Documentation", "url": "https://help.1e.com/SDK/en/instruction-definition-xml-elements.html",
        "date": "2022-09-20", "last_updated": "2025-08-31", "snippet": "This is the
        root element - aside from the XML declaration element - of the document. This
        element represents an individual Instruction Definition, and must ..."}, {"title":
        "XML Schema element Element - W3Schools", "url": "http://www.w3schools.com/Xml/el_element.asp",
        "date": "2025-08-11", "last_updated": "2025-09-11", "snippet": "XML Schema
        element Element. \u276e Complete XML Schema Reference. Definition and Usage
        ... True indicates that the element cannot appear in the instance document."},
        {"title": "XML Data Types - Nintex Help", "url": "https://help.nintex.com/en-US/k2blackpearl/userguide/4.6.10/XML_Data_Types.html",
        "date": "2005-09-20", "last_updated": "2025-09-11", "snippet": "The ability
        to define complex data types in XML is one of its most powerful features.
        A complex type element declaration is used to describe data collections ..."},
        {"title": "xs:element - Oxygen XML Editor", "url": "https://www.oxygenxml.com/doc/versions/27.1/ug-developer/topics/xml-schema-diagram-element-properties.html",
        "date": "2025-01-01", "last_updated": "2025-08-29", "snippet": "Defines an
        element. An element declaration is an association of a name with a type definition,
        either simple or complex, an (optional) default value."}], "object": "chat.completion",
        "choices": [{"index": 0, "finish_reason": "stop", "message": {"role": "assistant",
        "content": "The file contains an **XML** document with a single element `<truism>`
        whose content is the text: **\"Ruby is the best\"**.\n\nThis means the file''s
        structure is:\n\n```xml\n<truism>Ruby is the best</truism>\n```\n\nHere, `<truism>`
        is a custom XML tag containing a simple character data node with the phrase
        \"Ruby is the best.\" The file conforms to basic XML syntax by having opening
        and closing tags surrounding textual content[1][2].\n\nIn summary, it is a
        valid XML snippet that wraps the same text you provided earlier (\"Ruby is
        the best\") inside a custom XML element named `truism`."}, "delta": {"role":
        "assistant", "content": ""}}]}'
  recorded_at: Sun, 14 Sep 2025 09:52:22 GMT
recorded_with: VCR 6.3.1

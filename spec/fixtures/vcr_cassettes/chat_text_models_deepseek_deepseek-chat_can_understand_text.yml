---
http_interactions:
- request:
    method: post
    uri: https://api.deepseek.com/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"deepseek-chat","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <DEEPSEEK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:43:27 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Vary:
      - origin, access-control-request-method, access-control-request-headers
      Access-Control-Allow-Credentials:
      - 'true'
      X-Ds-Trace-Id:
      - 04f1774f3be7795d68bb77ca05357eb1
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"2c4293cc-5861-42a1-9c6a-8470d66abe49","object":"chat.completion","created":1757515407,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Based
        on the file content you provided, the file `ruby.txt` contains the text:\n\n**\"Ruby
        is the best.\"**\n\nIt''s a simple text file (MIME type: text/plain) with
        a short statement about the Ruby programming language."},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":33,"completion_tokens":52,"total_tokens":85,"prompt_tokens_details":{"cached_tokens":0},"prompt_cache_hit_tokens":0,"prompt_cache_miss_tokens":33},"system_fingerprint":"fp_08f168e49b_prod0820_fp8_kvcache"}'
  recorded_at: Wed, 10 Sep 2025 14:43:32 GMT
- request:
    method: post
    uri: https://api.deepseek.com/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"deepseek-chat","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"Based on the file content
        you provided, the file `ruby.txt` contains the text:\n\n**\"Ruby is the best.\"**\n\nIt''s
        a simple text file (MIME type: text/plain) with a short statement about the
        Ruby programming language."},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <DEEPSEEK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:43:33 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Vary:
      - origin, access-control-request-method, access-control-request-headers
      Access-Control-Allow-Credentials:
      - 'true'
      X-Ds-Trace-Id:
      - 7597a3f819c4c5b5d4c8ad7bea59e336
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: '{"id":"ba4fabc7-7879-405c-972e-0d071f3a35a7","object":"chat.completion","created":1757515413,"model":"deepseek-chat","choices":[{"index":0,"message":{"role":"assistant","content":"Based
        on the content you provided, the file `ruby.xml` contains the following XML
        data:\n\n```xml\n<truism>Ruby is the best</truism>\n```\n\n**Breakdown:**\n\n*   **File
        Type:** It''s an XML file (MIME type: `application/xml`).\n*   **Content:**
        It contains a single XML element named `<truism>`.\n*   **Data:** The text
        \"Ruby is the best\" is stored as the content (or value) of that XML element.\n\nIn
        essence, it encodes the same sentiment as the text file (\"Ruby is the best\")
        but structures it within a custom XML tag, making it machine-readable data."},"logprobs":null,"finish_reason":"stop"}],"usage":{"prompt_tokens":126,"completion_tokens":141,"total_tokens":267,"prompt_tokens_details":{"cached_tokens":64},"prompt_cache_hit_tokens":64,"prompt_cache_miss_tokens":62},"system_fingerprint":"fp_08f168e49b_prod0820_fp8_kvcache"}'
  recorded_at: Wed, 10 Sep 2025 14:43:42 GMT
recorded_with: VCR 6.3.1

---
http_interactions:
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-3.5-haiku","messages":[{"role":"user","content":"What''s
        the best language to learn?"}],"stream":false,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[]}}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:58:59 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Vary:
      - Accept-Encoding
      Permissions-Policy:
      - payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com"
        "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")
      Referrer-Policy:
      - no-referrer, strict-origin-when-cross-origin
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: "\n         \n\n         \n\n         \n\n         \n{\"id\":\"gen-1757516338-CcgSKUfcO9pvft67U50P\",\"provider\":\"Anthropic\",\"model\":\"anthropic/claude-3.5-haiku\",\"object\":\"chat.completion\",\"created\":1757516339,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I'll
        help you find out by using the best_language_to_learn tool.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"id\":\"toolu_01KDEGUF8qYXwp6kpB38XXSk\",\"index\":0,\"type\":\"function\",\"function\":{\"name\":\"best_language_to_learn\",\"arguments\":\"\"}}]}}],\"usage\":{\"prompt_tokens\":327,\"completion_tokens\":59,\"total_tokens\":386}}"
  recorded_at: Wed, 10 Sep 2025 14:59:00 GMT
- request:
    method: post
    uri: https://openrouter.ai/api/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"anthropic/claude-3.5-haiku","messages":[{"role":"user","content":"What''s
        the best language to learn?"},{"role":"assistant","content":"I''ll help you
        find out by using the best_language_to_learn tool.","tool_calls":[{"id":"toolu_01KDEGUF8qYXwp6kpB38XXSk","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}]},{"role":"tool","content":"Ruby","tool_call_id":"toolu_01KDEGUF8qYXwp6kpB38XXSk"}],"stream":false,"tools":[{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[]}}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Authorization:
      - Bearer <OPENROUTER_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:59:01 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Vary:
      - Accept-Encoding
      Permissions-Policy:
      - payment=(self "https://checkout.stripe.com" "https://connect-js.stripe.com"
        "https://js.stripe.com" "https://*.js.stripe.com" "https://hooks.stripe.com")
      Referrer-Policy:
      - no-referrer, strict-origin-when-cross-origin
      X-Content-Type-Options:
      - nosniff
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
    body:
      encoding: ASCII-8BIT
      string: "\n         \n\n         \n\n         \n\n         \n\n         \n\n
        \        \n\n         \n\n         \n\n         \n{\"id\":\"gen-1757516340-pMnqmCdVi7Gr4SoKupZn\",\"provider\":\"Anthropic\",\"model\":\"anthropic/claude-3.5-haiku\",\"object\":\"chat.completion\",\"created\":1757516340,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"stop\",\"native_finish_reason\":\"stop\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"According
        to the tool, Ruby is the best language to learn right now! \\n\\nRuby is a
        dynamic, object-oriented programming language known for its simplicity and
        readability. It's particularly popular for web development, especially with
        the Ruby on Rails framework. Some key advantages of learning Ruby include:\\n\\n1.
        Easy to read and write syntax\\n2. Strong community support\\n3. Great for
        web development\\n4. Useful in scripting and automation\\n5. Used by many
        startups and tech companies\\n\\nHowever, the \\\"best\\\" language can depend
        on your specific goals:\\n- Web development\\n- Data science\\n- Mobile app
        development\\n- Machine learning\\n- Career objectives\\n\\nWould you like
        to know more about why Ruby might be a good choice for you, or are you interested
        in exploring how it fits with your particular programming goals?\",\"refusal\":null,\"reasoning\":null}}],\"usage\":{\"prompt_tokens\":398,\"completion_tokens\":176,\"total_tokens\":574}}"
  recorded_at: Wed, 10 Sep 2025 14:59:05 GMT
recorded_with: VCR 6.3.1

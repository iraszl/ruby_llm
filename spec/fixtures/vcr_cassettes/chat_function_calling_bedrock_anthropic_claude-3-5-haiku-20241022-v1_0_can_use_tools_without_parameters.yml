---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250910T145830Z
      X-Amz-Content-Sha256:
      - e8e2ab4c8354c7cef443fe07e51f718b7cb96b42d26a0444d3c8692bb4b23675
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250910/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1165717607693dc52dea9fc84eab91e864ce361133903469a9612b6446e4b5ea
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:58:31 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '476'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 0bde0694-6b18-49e7-b37f-6b9a29b080ab
      X-Amzn-Bedrock-Invocation-Latency:
      - '1138'
      X-Amzn-Bedrock-Output-Token-Count:
      - '59'
      X-Amzn-Bedrock-Input-Token-Count:
      - '327'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01RJkMp4VTKCq4trWD61Kfrs","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool."},{"type":"tool_use","id":"toolu_bdrk_01Xn78V8QUN4eHjd7kgxN9HZ","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":327,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":59}}'
  recorded_at: Wed, 10 Sep 2025 14:58:31 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool."},{"type":"tool_use","id":"toolu_bdrk_01Xn78V8QUN4eHjd7kgxN9HZ","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01Xn78V8QUN4eHjd7kgxN9HZ","content":[{"type":"text","text":"Ruby"}]}]}],"max_tokens":4096,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[]}}]}'
    headers:
      User-Agent:
      - Faraday v2.13.4
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20250910T145831Z
      X-Amz-Content-Sha256:
      - 764a122c301dbf20e1159911a026b414746882981bb817d76f3d4eb17573a3e5
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20250910/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=2f0ac3c0810e16dd309640b65e6dc8e82f35ae766fa922841dcdbc125e9da4a6
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Wed, 10 Sep 2025 14:58:36 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1205'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - e4a56656-f31e-487f-81e3-51cd9ae83c77
      X-Amzn-Bedrock-Invocation-Latency:
      - '4274'
      X-Amzn-Bedrock-Output-Token-Count:
      - '192'
      X-Amzn-Bedrock-Input-Token-Count:
      - '398'
    body:
      encoding: UTF-8
      string: '{"id":"msg_bdrk_01GoMiVNmfyCFuWP8f4YkB1u","type":"message","role":"assistant","model":"claude-3-5-haiku-20241022","content":[{"type":"text","text":"According
        to the tool, Ruby is recommended as the best language to learn! Ruby is a
        dynamic, object-oriented programming language known for its simplicity and
        readability. It''s particularly popular for web development, especially with
        the Ruby on Rails framework. \n\nSome reasons why Ruby might be a great language
        to learn include:\n1. Beginner-friendly syntax\n2. Strong community support\n3.
        Used in web development\n4. Versatile and expressive\n5. Good for scripting
        and automation\n\nOf course, the \"best\" language can depend on your specific
        goals, whether you''re interested in web development, data science, mobile
        apps, or other programming domains. But Ruby is an excellent choice for those
        starting their programming journey or looking to add a versatile language
        to their skillset.\n\nWould you like to know more about Ruby or explore why
        it might be a good language for you to learn?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":398,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":192}}'
  recorded_at: Wed, 10 Sep 2025 14:58:36 GMT
recorded_with: VCR 6.3.1
